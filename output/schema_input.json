{
  "feature_name": "Project Management",
  "sections": [
    {
      "name": "Project List",
      "fields": [
        {
          "name": "Search",
          "type": "text",
          "description": "Search by Project Name or Code"
        },
        {
          "name": "Region Filter",
          "type": "select",
          "options": ["Multi-select"],
          "description": "Filter by Region"
        },
        {
          "name": "Area Filter",
          "type": "select",
          "options": ["Multi-select"],
          "description": "Filter by Area (Dependent on Region)",
          "extra_props": { "filters": ["Region"] }
        },
        {
          "name": "Manager Filter",
          "type": "text",
          "description": "Filter by Manager Name"
        },
        {
          "name": "Status Filter",
          "type": "select",
          "options": ["Multi-select"],
          "description": "Filter by Project Status"
        },
        {
          "name": "Project Table",
          "type": "table",
          "extra_props": {
            "columns": [
              "Name",
              "Code",
              "Region",
              "Status",
              "Manager",
              "Progress",
              "Created Date"
            ],
            "actions": ["View Details"]
          }
        },
        {
          "name": "Import Button",
          "type": "text_display",
          "description": "Import projects from file (Button)"
        },
        {
          "name": "Create Button",
          "type": "text_display",
          "description": "Navigate to Create New Project screen (Button)"
        }
      ]
    },
    {
      "name": "Create Project",
      "fields": [
        {
          "name": "Region & Area",
          "type": "select",
          "required": true,
          "description": "Base for filtering personnel and templates"
        },
        { "name": "Project Name", "type": "text", "required": true },
        {
          "name": "Project Code",
          "type": "text",
          "extra_props": { "readonly": true },
          "description": "Auto-generated"
        },
        { "name": "Investor", "type": "text" },
        { "name": "Project Type", "type": "select" },
        { "name": "Tags", "type": "text" },
        { "name": "Start Date", "type": "date" },
        { "name": "End Date", "type": "date" },
        { "name": "Inspection Content", "type": "textarea" },
        { "name": "Description", "type": "textarea" },
        {
          "name": "Manager",
          "type": "select",
          "required": true,
          "description": "Filtered by selected Region/Area"
        },
        {
          "name": "Custom Fields",
          "type": "list",
          "description": "Dynamic fields"
        },
        {
          "name": "Form Template",
          "type": "select",
          "description": "Folder tree template"
        }
      ]
    },
    {
      "name": "Project Details - General Info",
      "fields": [
        {
          "name": "General Info Form",
          "type": "text_display",
          "extra_props": { "readonly": true },
          "description": "Read-only view of project info"
        },
        {
          "name": "Status",
          "type": "select",
          "options": [
            "InProgress",
            "Completed",
            "Preparation",
            "Paused",
            "Cancelled"
          ]
        },
        {
          "name": "QR Code",
          "type": "text_display",
          "description": "Scan to access project (Image)"
        },
        {
          "name": "Progress List",
          "type": "list",
          "description": "List of Stages with Progress Bars"
        }
      ]
    },
    {
      "name": "Project Details - Document Management",
      "fields": [
        {
          "name": "Document Tree",
          "type": "tree_view",
          "extra_props": {
            "actions": ["Expand", "Collapse", "DragDrop", "Search", "Filter"],
            "can_create_folder": true,
            "can_create_doc": true,
            "can_drag_drop": true
          }
        },
        {
          "name": "Add Folder",
          "type": "text_display",
          "description": "Button"
        },
        {
          "name": "Add Document",
          "type": "text_display",
          "description": "Button"
        },
        {
          "name": "Upload",
          "type": "file_upload",
          "description": "Upload with OCR processing",
          "extra_props": { "has_ocr": true, "has_versioning": true }
        },
        {
          "name": "Re-organize",
          "type": "text_display",
          "description": "Drag and drop interface"
        },
        {
          "name": "Share",
          "type": "text_display",
          "description": "Share confidential docs"
        },
        {
          "name": "Export Excel",
          "type": "text_display",
          "description": "Button"
        }
      ]
    },
    {
      "name": "Project Details - Task Management",
      "fields": [
        {
          "name": "Task List",
          "type": "table",
          "extra_props": {
            "columns": [
              "Name",
              "Code",
              "Stage",
              "Priority",
              "Assignee",
              "Status",
              "Progress",
              "Deadline"
            ],
            "row_actions": ["Create", "Edit", "Delete"]
          }
        },
        {
          "name": "Task Filters",
          "type": "text_display",
          "description": "Filters: Type, Priority, Assignee, Status"
        }
      ]
    },
    {
      "name": "Project Details - Permissions",
      "fields": [
        {
          "name": "Role Matrix",
          "type": "permission_matrix",
          "extra_props": { "roles": ["Manage", "View", "Input", "Download"] }
        },
        {
          "name": "Add Member",
          "type": "text_display",
          "description": "Add User or Unit"
        }
      ]
    }
  ],
  "business_rules": [
    {
      "id": "BR-PRIVACY",
      "description": "Users only see projects they are related to (Creator, Manager, Assignee)",
      "condition": "User is not related to project",
      "expected_result": "Project list only shows relevant projects."
    },
    {
      "id": "BR-REGION-LOGIC",
      "description": "Manager and Members must belong to the selected Region/Area of the project",
      "condition": "User selection dropdowns",
      "expected_result": "Dropdowns only show users from the project's Region/Area."
    },
    {
      "id": "BR-PROGRESS-CALC",
      "description": "Stage Progress = (Completed Tasks / Total Tasks related to Docs in Stage) * 100%",
      "condition": "Task is completed",
      "expected_result": "Progress bar updates automatically."
    },
    {
      "id": "BR-DOC-TREE",
      "description": "Structure: Group -> Profile L1 -> Profile L2 -> Document",
      "condition": "Viewing Document Tree",
      "expected_result": "Tree view enforces this hierarchy."
    },
    {
      "id": "BR-VERSIONING",
      "description": "Document versions auto-increment (1, 2, 3...)",
      "condition": "Uploading a new version",
      "expected_result": "Version number increments."
    },
    {
      "id": "BR-MANAGER-PROTECTION",
      "description": "Project Manager has default Manage rights and cannot be removed.",
      "condition": "Try to remove Project Manager",
      "expected_result": "Delete action is disabled/blocked."
    }
  ]
}
